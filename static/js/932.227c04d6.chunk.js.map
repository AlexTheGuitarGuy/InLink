{"version":3,"file":"static/js/932.227c04d6.chunk.js","mappings":"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","sources":["components/Users/UserItems/UserItems.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/users-page-selector.js","components/Users/UsersContainer.jsx"],"sourcesContent":["import React, { memo } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport placeholder from '../../../assets/pfps/placeholder.jpg';\nimport cn from 'classnames';\n\nconst UserItems = ({ users, followQueue, follow, unfollow }) => {\n  const mappedUsers = users.map((e) => {\n    const buttonText = e.followed ? 'Unfollow' : 'Follow';\n    const buttonAction = e.followed ? unfollow : follow;\n    const isDisabled = followQueue.some((elem) => elem === e.id);\n\n    return (\n      <div\n        key={e.id}\n        className=\"\n        flex justify-between items-center\n        my-2 p-4\n        border rounded-lg border-gray-300\n        bg-gray-200\n        \"\n      >\n        <div className=\"flex\">\n          <NavLink to={'/profile/' + (e.uniqueUrlName || e.id)}>\n            <img\n              src={e.photos.small || placeholder}\n              alt=\"userPfp\"\n              className=\"rounded-full w-20 h-20 p-0.5\n              hover:bg-gray-700 active:bg-gray-800 transition-color\"\n            />\n          </NavLink>\n          <div className=\"mt-3 ml-3 flex flex-col\">\n            <div className=\"text-xl\">{e.name}</div>\n            <div className=\"font-normal\">{e.status}</div>\n          </div>\n        </div>\n\n        <button\n          disabled={isDisabled}\n          onClick={() => {\n            buttonAction(e.id);\n          }}\n          className={cn(\n            `\n          text-gray-100 text-center\n          py-1 px-4 rounded\n          transition-colors cursor-pointer font-semibold`,\n            {\n              'bg-gray-500 hover:bg-gray-600 active:bg-gray-700':\n                !isDisabled,\n            },\n            {\n              'bg-gray-300 text-gray-500 cursor-not-allowed':\n                isDisabled,\n            },\n          )}\n        >\n          {buttonText}\n        </button>\n      </div>\n    );\n  });\n\n  return <div className=\"mx-60\">{mappedUsers}</div>;\n};\n\nexport default memo(UserItems);\n","import React, { useState } from 'react';\nimport cn from 'classnames';\n\nconst Paginator = ({\n  totalElems,\n  portionSize,\n  pageSize,\n  changePage,\n  page,\n}) => {\n  const pagesNb = Math.ceil(totalElems / pageSize);\n  const halfwayPoint = page - Math.floor(portionSize / 2);\n\n  const calcPagesBeginning = () => {\n    if (halfwayPoint > 1) {\n      if (halfwayPoint > pagesNb - portionSize)\n        return pagesNb - portionSize + 1;\n      return halfwayPoint;\n    }\n\n    return 1;\n  };\n\n  const [currentPagesBeginning, setCurrentPages] = useState(\n    calcPagesBeginning(),\n  );\n\n  const changeOnClick = (i) => {\n    const portionBeginning = i - Math.floor(portionSize / 2);\n    const portion = portionBeginning > 1 ? portionBeginning : 1;\n    setCurrentPages(portion);\n    changePage(i);\n  };\n\n  let mappedPages = [];\n  for (let i = 1; i <= pagesNb; i++) {\n    mappedPages[i] = (\n      <span\n        key={i}\n        onClick={() => changeOnClick(i)}\n        className={cn(\n          `mx-1 cursor-pointer transition-colors \n          hover:text-gray-600 active:text-gray-500\n          border-b-2`,\n          { 'border-gray-600': i === page },\n          {\n            'border-transparent hover:border-gray-600': !(i === page),\n          },\n        )}\n      >\n        {`${i} `}\n      </span>\n    );\n  }\n\n  let currentPages = [];\n  for (\n    let i = currentPagesBeginning, lim = i + portionSize;\n    i < lim;\n    i++\n  ) {\n    currentPages[i] = mappedPages[i];\n  }\n\n  const moveToExtreme = (pagesBeginning, page, symbol) => (\n    <span\n      onClick={() => {\n        setCurrentPages(pagesBeginning);\n        changePage(page);\n      }}\n      className=\"mx-1 cursor-pointer transition-colors\n          hover:text-gray-600 active:text-gray-500\n          border-b-2 border-transparent hover:border-gray-600\"\n    >\n      {symbol}\n    </span>\n  );\n\n  const firstPage = moveToExtreme(1, 1, '<< ');\n  const lastPage = moveToExtreme(\n    pagesNb - portionSize + 1,\n    pagesNb,\n    ' >>',\n  );\n\n  const moveOnePage = (i, symbol) => (\n    <span\n      onClick={() => changeOnClick(i)}\n      className=\"mx-1 cursor-pointer transition-colors\n          hover:text-gray-600 active:text-gray-500\n          border-b-2 border-transparent hover:border-gray-600\"\n    >\n      {symbol}\n    </span>\n  );\n\n  const moveLeft = moveOnePage(page - 1, '< ');\n\n  const moveRight = moveOnePage(page + 1, ' >');\n\n  return (\n    <div\n      className=\"flex justify-center\n    font-semibold text-xl\n    mb-4\"\n    >\n      {page !== 1 && firstPage}\n      {page !== 1 && moveLeft}\n      {currentPages}\n      {page !== pagesNb && moveRight}\n      {page !== pagesNb && lastPage}\n    </div>\n  );\n};\n\nexport default Paginator;\n","import React from 'react';\nimport Loading from '../common/Loading/Loading';\nimport UserItems from './UserItems/UserItems';\nimport Paginator from '../common/Paginator/Paginator';\n\nconst Users = ({\n  totalUsers,\n  pageSize,\n  changePage,\n  page,\n  followQueue,\n  updateFollowQueue,\n  users,\n  follow,\n  unfollow,\n  isLoading,\n  portionSize,\n}) => {\n  if (isLoading) return <Loading />;\n\n  return (\n    <div\n      className=\"flex justify-between flex-col\n      bg-gray-100 rounded-lg p-8\n    text-gray-700 font-semibold\"\n    >\n      <UserItems\n        followQueue={followQueue}\n        updateFollowQueue={updateFollowQueue}\n        users={users}\n        follow={follow}\n        unfollow={unfollow}\n      />\n      <Paginator\n        pageSize={pageSize}\n        portionSize={portionSize}\n        totalElems={totalUsers}\n        changePage={changePage}\n        page={page}\n      />\n    </div>\n  );\n};\n\nexport default Users;\n","export const getUsers = (state) => {\n  return state.usersPage.users;\n};\n\nexport const getPortionSize = (state) => {\n  return state.usersPage.portionSize;\n};\n\nexport const getPage = (state) => {\n  return state.usersPage.page;\n};\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize;\n};\n\nexport const getTotalUsers = (state) => {\n  return state.usersPage.totalUsers;\n};\n\nexport const getCurrentPagesBeginning = (state) => {\n  return state.usersPage.currentPagesBeginning;\n};\n\nexport const getIsLoading = (state) => {\n  return state.usersPage.isLoading;\n};\n\nexport const getFollowQueue = (state) => {\n  return state.usersPage.followQueue;\n};\n","import { connect } from 'react-redux';\nimport Users from './Users';\nimport {\n  follow,\n  requestUsers,\n  setPage,\n  unfollow,\n  updateFollowQueue,\n} from '../../redux/users-page-reducer';\nimport React, { useEffect } from 'react';\nimport {\n  getFollowQueue,\n  getIsLoading,\n  getPage,\n  getPageSize,\n  getPortionSize,\n  getTotalUsers,\n  getUsers,\n} from '../../redux/users-page-selector';\nimport { compose } from 'redux';\n\nconst UsersContainer = ({\n  users,\n  page,\n  pageSize,\n  totalUsers,\n  isLoading,\n  followQueue,\n  requestUsers,\n  follow,\n  unfollow,\n  setPage,\n  updateFollowQueue,\n  portionSize,\n}) => {\n  const changePage = (page) => {\n    requestUsers(page, pageSize);\n    setPage(page);\n  };\n\n  useEffect(() => {\n    requestUsers(page, pageSize);\n  }, [requestUsers, page, pageSize]);\n\n  return (\n    <Users\n      portionSize={portionSize}\n      users={users}\n      totalUsers={totalUsers}\n      pageSize={pageSize}\n      changePage={changePage}\n      page={page}\n      isLoading={isLoading}\n      followQueue={followQueue}\n      updateFollowQueue={updateFollowQueue}\n      follow={follow}\n      unfollow={unfollow}\n    />\n  );\n};\n\nlet mapStateToProps = (state) => {\n  return {\n    users: getUsers(state),\n    page: getPage(state),\n    pageSize: getPageSize(state),\n    totalUsers: getTotalUsers(state),\n    isLoading: getIsLoading(state),\n    followQueue: getFollowQueue(state),\n    portionSize: getPortionSize(state),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    requestUsers,\n    follow,\n    unfollow,\n    setPage,\n    updateFollowQueue,\n  }),\n)(UsersContainer);\n"],"names":["UserItems","users","followQueue","follow","unfollow","mappedUsers","map","e","buttonText","followed","buttonAction","isDisabled","some","elem","id","className","to","uniqueUrlName","src","photos","small","placeholder","alt","name","status","disabled","onClick","cn","memo","totalElems","portionSize","pageSize","changePage","page","pagesNb","Math","ceil","halfwayPoint","floor","useState","currentPagesBeginning","setCurrentPages","changeOnClick","i","portionBeginning","mappedPages","currentPages","lim","moveToExtreme","pagesBeginning","symbol","firstPage","lastPage","moveOnePage","moveLeft","moveRight","totalUsers","updateFollowQueue","isLoading","Loading","getUsers","state","usersPage","getPortionSize","getPage","getPageSize","getTotalUsers","getIsLoading","getFollowQueue","compose","connect","requestUsers","setPage","useEffect"],"sourceRoot":""}